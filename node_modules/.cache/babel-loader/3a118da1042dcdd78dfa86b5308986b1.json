{"ast":null,"code":"import React,{useContext,useEffect}from'react';import{Transaction}from'./Transaction.jsx';import{fetchTransactionList}from'../services/services';import{GlobalContext}from'../context/GlobalState';import{ClearButton}from'./ClearButton';import{clearTransactions}from'../services/services';import Dragula from'react-dragula';import\"./style/style.css\";export var TransactionList=function TransactionList(){var _useContext=useContext(GlobalContext),transactions=_useContext.transactions,updateTransactions=_useContext.updateTransactions;useEffect(function(){fetchTransactionList().then(function(result){updateTransactions(result);}).catch(function(err){console.log(err);});},[]);var removeTransactions=function removeTransactions(){clearTransactions().then(function(result){updateTransactions(result);}).catch(function(err){return console.log(err);});};var dragulaDecorator=function dragulaDecorator(componentBackingInstance){if(componentBackingInstance){var options={removeOnSpill:true};Dragula([componentBackingInstance],options);}};return/*#__PURE__*/React.createElement(\"div\",{className:\"history\"},\" \",/*#__PURE__*/React.createElement(\"h3\",null,\"History\"),/*#__PURE__*/React.createElement(\"ul\",{className:\"list\",ref:dragulaDecorator},transactions.map(function(transaction){return/*#__PURE__*/React.createElement(Transaction,{key:transaction.id,transaction:transaction});})),/*#__PURE__*/React.createElement(\"div\",{className:\"clean\"},transactions.length>0?/*#__PURE__*/React.createElement(ClearButton,{clearTransactions:removeTransactions}):null));};","map":{"version":3,"sources":["/Users/maqiang/Desktop/INFO 6250/student--qma16443/project/Project/src/components/TransactionList.jsx"],"names":["React","useContext","useEffect","Transaction","fetchTransactionList","GlobalContext","ClearButton","clearTransactions","Dragula","TransactionList","transactions","updateTransactions","then","result","catch","err","console","log","removeTransactions","dragulaDecorator","componentBackingInstance","options","removeOnSpill","map","transaction","id","length"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,EAAgBC,UAAhB,CAA4BC,SAA5B,KAA6C,OAA7C,CACA,OAASC,WAAT,KAA4B,mBAA5B,CACA,OAAQC,oBAAR,KAAmC,sBAAnC,CACA,OAASC,aAAT,KAA8B,wBAA9B,CACA,OAAQC,WAAR,KAA0B,eAA1B,CACA,OAAQC,iBAAR,KAAgC,sBAAhC,CACA,MAAOC,CAAAA,OAAP,KAAoB,eAApB,CACA,MAAO,mBAAP,CAEA,MAAO,IAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,EAAM,iBACUR,UAAU,CAACI,aAAD,CADpB,CAC3BK,YAD2B,aAC3BA,YAD2B,CACbC,kBADa,aACbA,kBADa,CAGnCT,SAAS,CAAC,UAAI,CACZE,oBAAoB,GAAGQ,IAAvB,CAA4B,SAACC,MAAD,CAAY,CACtCF,kBAAkB,CAACE,MAAD,CAAlB,CACD,CAFD,EAEGC,KAFH,CAES,SAACC,GAAD,CAAS,CAChBC,OAAO,CAACC,GAAR,CAAYF,GAAZ,EACD,CAJD,EAKD,CANQ,CAMP,EANO,CAAT,CAQA,GAAMG,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,EAAK,CAC9BX,iBAAiB,GAAGK,IAApB,CAAyB,SAAAC,MAAM,CAAE,CAC/BF,kBAAkB,CAACE,MAAD,CAAlB,CACD,CAFD,EAEGC,KAFH,CAES,SAAAC,GAAG,QAAIC,CAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAAJ,EAFZ,EAGD,CAJD,CAMA,GAAMI,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,CAACC,wBAAD,CAA8B,CACrD,GAAIA,wBAAJ,CAA8B,CAC5B,GAAIC,CAAAA,OAAO,CAAG,CAACC,aAAa,CAAE,IAAhB,CAAd,CACAd,OAAO,CAAC,CAACY,wBAAD,CAAD,CAA6BC,OAA7B,CAAP,CACD,CACF,CALD,CAOA,mBACE,2BAAK,SAAS,CAAC,SAAf,mBAA0B,wCAA1B,cACE,0BAAI,SAAS,CAAC,MAAd,CAAqB,GAAG,CAAEF,gBAA1B,EACGT,YAAY,CAACa,GAAb,CAAiB,SAAAC,WAAW,qBAAK,oBAAC,WAAD,EAAa,GAAG,CAAEA,WAAW,CAACC,EAA9B,CAAkC,WAAW,CAAED,WAA/C,EAAL,EAA5B,CADH,CADF,cAIE,2BAAK,SAAS,CAAC,OAAf,EACCd,YAAY,CAACgB,MAAb,CAAoB,CAApB,cAAuB,oBAAC,WAAD,EAAc,iBAAiB,CAAER,kBAAjC,EAAvB,CAA8E,IAD/E,CAJF,CADF,CASD,CAjCM","sourcesContent":["import React, { useContext, useEffect } from 'react';\nimport { Transaction } from './Transaction.jsx';\nimport {fetchTransactionList} from '../services/services'\nimport { GlobalContext } from '../context/GlobalState';\nimport {ClearButton} from './ClearButton'\nimport {clearTransactions} from '../services/services'\nimport Dragula from 'react-dragula';\nimport \"./style/style.css\";\n\nexport const TransactionList = () => {\n  const { transactions, updateTransactions } = useContext(GlobalContext);\n  \n  useEffect(()=>{\n    fetchTransactionList().then((result) => {\n      updateTransactions(result)\n    }).catch((err) => {\n      console.log(err)\n    });\n  },[])\n\n  const removeTransactions = () =>{\n    clearTransactions().then(result=>{\n      updateTransactions(result)\n    }).catch(err => console.log(err))\n  }\n\n  const dragulaDecorator = (componentBackingInstance) => {\n    if (componentBackingInstance) {\n      let options = {removeOnSpill: true };\n      Dragula([componentBackingInstance], options);\n    }\n  }\n\n  return (\n    <div className=\"history\"> <h3>History</h3>\n      <ul className=\"list\" ref={dragulaDecorator}>\n        {transactions.map(transaction => (<Transaction key={transaction.id} transaction={transaction} />))}\n      </ul>\n      <div className=\"clean\">\n      {transactions.length>0? <ClearButton  clearTransactions={removeTransactions}/>:null}</div>\n    </div>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"var _jsxFileName = \"/Users/maqiang/Desktop/INFO 6250/student--qma16443/project/Project/src/components/TransactionList.jsx\";\nimport React, { useContext, useEffect } from 'react';\nimport { Transaction } from './Transaction.jsx';\nimport { fetchTransactionList } from '../services/services';\nimport { GlobalContext } from '../context/GlobalState';\nimport { ClearButton } from './ClearButton';\nimport { clearTransactions } from '../services/services';\nimport Dragula from 'react-dragula';\nexport const TransactionList = () => {\n  const {\n    transactions,\n    updateTransactions\n  } = useContext(GlobalContext);\n  useEffect(() => {\n    fetchTransactionList().then(result => {\n      updateTransactions(result);\n    }).catch(err => {\n      console.log(err);\n    });\n  }, []);\n\n  const removeTransactions = () => {\n    clearTransactions().then(result => {\n      updateTransactions(result);\n    }).catch(err => console.log(err));\n  };\n\n  const dragulaDecorator = componentBackingInstance => {\n    if (componentBackingInstance) {\n      let options = {\n        removeOnSpill: true\n      };\n      Dragula([componentBackingInstance], options);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, \" \", /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 8\n    }\n  }, \"History\"), /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"list\",\n    ref: dragulaDecorator,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }\n  }, transactions.map(transaction => /*#__PURE__*/React.createElement(Transaction, {\n    key: transaction.id,\n    transaction: transaction,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 43\n    }\n  }))), transactions.length > 0 ? /*#__PURE__*/React.createElement(ClearButton, {\n    clearTransactions: removeTransactions,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 31\n    }\n  }) : null);\n};","map":{"version":3,"sources":["/Users/maqiang/Desktop/INFO 6250/student--qma16443/project/Project/src/components/TransactionList.jsx"],"names":["React","useContext","useEffect","Transaction","fetchTransactionList","GlobalContext","ClearButton","clearTransactions","Dragula","TransactionList","transactions","updateTransactions","then","result","catch","err","console","log","removeTransactions","dragulaDecorator","componentBackingInstance","options","removeOnSpill","map","transaction","id","length"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,UAAhB,EAA4BC,SAA5B,QAA6C,OAA7C;AACA,SAASC,WAAT,QAA4B,mBAA5B;AACA,SAAQC,oBAAR,QAAmC,sBAAnC;AACA,SAASC,aAAT,QAA8B,wBAA9B;AACA,SAAQC,WAAR,QAA0B,eAA1B;AACA,SAAQC,iBAAR,QAAgC,sBAAhC;AACA,OAAOC,OAAP,MAAoB,eAApB;AAEA,OAAO,MAAMC,eAAe,GAAG,MAAM;AACnC,QAAM;AAAEC,IAAAA,YAAF;AAAgBC,IAAAA;AAAhB,MAAuCV,UAAU,CAACI,aAAD,CAAvD;AAEAH,EAAAA,SAAS,CAAC,MAAI;AACZE,IAAAA,oBAAoB,GAAGQ,IAAvB,CAA6BC,MAAD,IAAY;AACtCF,MAAAA,kBAAkB,CAACE,MAAD,CAAlB;AACD,KAFD,EAEGC,KAFH,CAEUC,GAAD,IAAS;AAChBC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACD,KAJD;AAKD,GANQ,EAMP,EANO,CAAT;;AAQA,QAAMG,kBAAkB,GAAG,MAAK;AAC9BX,IAAAA,iBAAiB,GAAGK,IAApB,CAAyBC,MAAM,IAAE;AAC/BF,MAAAA,kBAAkB,CAACE,MAAD,CAAlB;AACD,KAFD,EAEGC,KAFH,CAESC,GAAG,IAAIC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAFhB;AAGD,GAJD;;AAMA,QAAMI,gBAAgB,GAAIC,wBAAD,IAA8B;AACrD,QAAIA,wBAAJ,EAA8B;AAC5B,UAAIC,OAAO,GAAG;AAACC,QAAAA,aAAa,EAAE;AAAhB,OAAd;AACAd,MAAAA,OAAO,CAAC,CAACY,wBAAD,CAAD,EAA6BC,OAA7B,CAAP;AACD;AACF,GALD;;AAOA,sBACE,4DAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAAH,eACE;AAAI,IAAA,SAAS,EAAC,MAAd;AAAqB,IAAA,GAAG,EAAEF,gBAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGT,YAAY,CAACa,GAAb,CAAiBC,WAAW,iBAAK,oBAAC,WAAD;AAAa,IAAA,GAAG,EAAEA,WAAW,CAACC,EAA9B;AAAkC,IAAA,WAAW,EAAED,WAA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAjC,CADH,CADF,EAIGd,YAAY,CAACgB,MAAb,GAAoB,CAApB,gBAAuB,oBAAC,WAAD;AAAa,IAAA,iBAAiB,EAAER,kBAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAvB,GAA6E,IAJhF,CADF;AAQD,CAhCM","sourcesContent":["import React, { useContext, useEffect } from 'react';\nimport { Transaction } from './Transaction.jsx';\nimport {fetchTransactionList} from '../services/services'\nimport { GlobalContext } from '../context/GlobalState';\nimport {ClearButton} from './ClearButton'\nimport {clearTransactions} from '../services/services'\nimport Dragula from 'react-dragula';\n\nexport const TransactionList = () => {\n  const { transactions, updateTransactions } = useContext(GlobalContext);\n  \n  useEffect(()=>{\n    fetchTransactionList().then((result) => {\n      updateTransactions(result)\n    }).catch((err) => {\n      console.log(err)\n    });\n  },[])\n\n  const removeTransactions = () =>{\n    clearTransactions().then(result=>{\n      updateTransactions(result)\n    }).catch(err => console.log(err))\n  }\n\n  const dragulaDecorator = (componentBackingInstance) => {\n    if (componentBackingInstance) {\n      let options = {removeOnSpill: true };\n      Dragula([componentBackingInstance], options);\n    }\n  }\n\n  return (\n    <> <h3>History</h3>\n      <ul className=\"list\" ref={dragulaDecorator}>\n        {transactions.map(transaction => (<Transaction key={transaction.id} transaction={transaction} />))}\n      </ul>\n      {transactions.length>0? <ClearButton clearTransactions={removeTransactions}/>:null}\n    </>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}
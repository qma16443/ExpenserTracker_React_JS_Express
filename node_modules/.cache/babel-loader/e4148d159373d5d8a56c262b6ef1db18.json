{"ast":null,"code":"import{useContext}from'react';import{GlobalContext}from'../context/GlobalState';import{incomeCategories,expenseCategories,resetCategories}from'../constants/categories';//Compute each category for the chart\nvar useTransactions=function useTransactions(title){resetCategories();var _useContext=useContext(GlobalContext),transactions=_useContext.transactions;var rightTransactions=transactions.filter(function(t){return t.type===title;});var total=rightTransactions.reduce(function(acc,currVal){return acc+=+currVal.amount;},0);var categories=title==='Income'?incomeCategories:expenseCategories;rightTransactions.forEach(function(t){var category=categories.find(function(c){return c.type===t.category;});if(category)category.amount+=+t.amount;});var filteredCategories=categories.filter(function(sc){return sc.amount>0;});var chartData={datasets:[{data:filteredCategories.map(function(c){return c.amount;}),backgroundColor:filteredCategories.map(function(c){return c.color;})}],labels:filteredCategories.map(function(c){return c.type;})};return{filteredCategories:filteredCategories,total:total,chartData:chartData};};export default useTransactions;","map":{"version":3,"sources":["/Users/maqiang/Desktop/INFO 6250/student--qma16443/project/Project/src/services/useTransactions.js"],"names":["useContext","GlobalContext","incomeCategories","expenseCategories","resetCategories","useTransactions","title","transactions","rightTransactions","filter","t","type","total","reduce","acc","currVal","amount","categories","forEach","category","find","c","filteredCategories","sc","chartData","datasets","data","map","backgroundColor","color","labels"],"mappings":"AAAA,OAASA,UAAT,KAA2B,OAA3B,CACA,OAASC,aAAT,KAA8B,wBAA9B,CACA,OAASC,gBAAT,CAA2BC,iBAA3B,CAA8CC,eAA9C,KAAqE,yBAArE,CAEA;AACA,GAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACC,KAAD,CAAW,CACjCF,eAAe,GADkB,gBAERJ,UAAU,CAACC,aAAD,CAFF,CAEzBM,YAFyB,aAEzBA,YAFyB,CAGjC,GAAMC,CAAAA,iBAAiB,CAAGD,YAAY,CAACE,MAAb,CAAoB,SAACC,CAAD,QAAOA,CAAAA,CAAC,CAACC,IAAF,GAAWL,KAAlB,EAApB,CAA1B,CACA,GAAMM,CAAAA,KAAK,CAAGJ,iBAAiB,CAACK,MAAlB,CAAyB,SAACC,GAAD,CAAMC,OAAN,QAAkBD,CAAAA,GAAG,EAAI,CAACC,OAAO,CAACC,MAAlC,EAAzB,CAAmE,CAAnE,CAAd,CACA,GAAMC,CAAAA,UAAU,CAAGX,KAAK,GAAK,QAAV,CAAqBJ,gBAArB,CAAwCC,iBAA3D,CAEAK,iBAAiB,CAACU,OAAlB,CAA0B,SAACR,CAAD,CAAO,CAC/B,GAAMS,CAAAA,QAAQ,CAAGF,UAAU,CAACG,IAAX,CAAgB,SAACC,CAAD,QAAOA,CAAAA,CAAC,CAACV,IAAF,GAAWD,CAAC,CAACS,QAApB,EAAhB,CAAjB,CACA,GAAIA,QAAJ,CAAcA,QAAQ,CAACH,MAAT,EAAmB,CAACN,CAAC,CAACM,MAAtB,CACf,CAHD,EAKA,GAAMM,CAAAA,kBAAkB,CAAGL,UAAU,CAACR,MAAX,CAAkB,SAACc,EAAD,QAAQA,CAAAA,EAAE,CAACP,MAAH,CAAY,CAApB,EAAlB,CAA3B,CAEA,GAAMQ,CAAAA,SAAS,CAAG,CAChBC,QAAQ,CAAE,CAAC,CACTC,IAAI,CAAEJ,kBAAkB,CAACK,GAAnB,CAAuB,SAACN,CAAD,QAAOA,CAAAA,CAAC,CAACL,MAAT,EAAvB,CADG,CAETY,eAAe,CAAEN,kBAAkB,CAACK,GAAnB,CAAuB,SAACN,CAAD,QAAOA,CAAAA,CAAC,CAACQ,KAAT,EAAvB,CAFR,CAAD,CADM,CAKhBC,MAAM,CAAER,kBAAkB,CAACK,GAAnB,CAAuB,SAACN,CAAD,QAAOA,CAAAA,CAAC,CAACV,IAAT,EAAvB,CALQ,CAAlB,CAOA,MAAO,CAAEW,kBAAkB,CAAlBA,kBAAF,CAAsBV,KAAK,CAALA,KAAtB,CAA6BY,SAAS,CAATA,SAA7B,CAAP,CACD,CAtBD,CAwBA,cAAenB,CAAAA,eAAf","sourcesContent":["import { useContext } from 'react';\nimport { GlobalContext } from '../context/GlobalState';\nimport { incomeCategories, expenseCategories, resetCategories } from '../constants/categories';\n\n//Compute each category for the chart\nconst useTransactions = (title) => {\n  resetCategories();\n  const { transactions } = useContext(GlobalContext);\n  const rightTransactions = transactions.filter((t) => t.type === title);\n  const total = rightTransactions.reduce((acc, currVal) => acc += +currVal.amount, 0);\n  const categories = title === 'Income' ? incomeCategories : expenseCategories;\n\n  rightTransactions.forEach((t) => {\n    const category = categories.find((c) => c.type === t.category);\n    if (category) category.amount += +t.amount;\n  });\n\n  const filteredCategories = categories.filter((sc) => sc.amount > 0);\n\n  const chartData = {\n    datasets: [{\n      data: filteredCategories.map((c) => c.amount),\n      backgroundColor: filteredCategories.map((c) => c.color),\n    }],\n    labels: filteredCategories.map((c) => c.type),\n  };\n  return { filteredCategories, total, chartData };\n};\n\nexport default useTransactions;\n"]},"metadata":{},"sourceType":"module"}